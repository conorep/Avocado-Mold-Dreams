<!--
Conor, Pat, Regina
SDEV328 AMD
my-account.html
-->
<!--This page contains the account login panel code.-->
<include href="includes/header.html"></include>

<div class="row justify-content-center">
    <div class="container border border-dark m-5 col-md-6 col-8" id="forms-block">
        
        <!-- login here-->
        <form method="post" class="card mb-5 mt-5 " id="adminLogin">
    
            <h4 class="text-center">User Login Panel</h4>

            <fieldset class="row justify-content-center">
                
                <div class="form-group col-md-10 col">
                    
                    <check if="{{ isset(@usermade['newusermade']) }}">
                        <span class="err">{{ @usermade['newusermade'] }}</span>
                    </check>
                    
                    <div class="mt-4">
                        <label for="username">USER EMAIL:</label>
                        <!--display error if there is one -->
                        <check if="{{ isset(@errors['user']) }}">
                            <span class="err">{{ @errors['user'] }}</span>
                        </check>
                        <input type="text" class="form-control" id="username" value="{{@username}}"
                               placeholder="enter user email here" name="username">
                        <!--Javascript validation-->
                        <span class="js-err" id="err-username">Please enter your email address<br></span>
                        <span class="js-err" id="err-useremail">Please enter a valid email address</span>
                    </div>
                    
                    <div class="mt-4">
                        <label for="password">PASSWORD:</label>
                        <!--display error if there is one -->
                        <check if="{{ isset(@errors['pass']) }}">
                            <span class="err">{{ @errors['pass'] }}</span>
                        </check>
                        <input type="password" class="form-control" id="password" placeholder="enter password here" name="password">
                    </div>
    
                    <!-- check box to show new user form or not -->
                    <!--for now, disappears after making a new user-->
                    <label class="mt-5 {{ @display2 }}"><input type="checkbox" id="newUserForms" {{ @check }}> New user? Fill in below!</label>
                    
                    <div class="float-end">
                        <button type="submit" class="btn btn-lg btn-outline-success mt-3 mb-3"
                                name="postbtn" value="login">Submit</button>
                    </div>
                
                </div>
            
            </fieldset>
        
        </form> <!-- end login form -->
    
        
        <!-- new user form box here -->
        <form method="post" class="mb-5 mt-5 {{ @display }} " id="newUser" >
        
            <fieldset class="row justify-content-center">
            
                <div class="form-group col-10 ">
                
                    <!-- fname and lname form group -->
                    <div class="form-group row">
                        <!--first name-->
                        <div class="col-md-6 col-12">
                            <label for="newfname">FIRST NAME:</label>
                            <!--display error if there is one -->
                            <check if="{{ isset(@errors2['fname']) }}">
                                <span class="err">{{ @errors2['fname'] }}</span>
                            </check>
                            <input type="text" class="form-control" id="newfname" value="{{@newfname}}"
                                   placeholder="first name here" name="newfname">
                            <!--Javascript validation-->
                            <span class="js-err" id="err-newfname">Please enter your first name</span>
                        </div>
                    
                        <!--last name-->
                        <div class="col-md-6 col-12 mt-4 mt-md-1">
                            <label for="newlname">LAST NAME:</label>
                            <!--display error if there is one -->
                            <check if="{{ isset(@errors2['lname']) }}">
                                <span class="err">{{ @errors2['lname'] }}</span>
                            </check>
                            <input type="text" class="form-control" id="newlname" value="{{@newlname}}"
                                   placeholder="last name here" name="newlname">
                            <span class="js-err" id="err-newlname">Please enter your last name</span>
                        </div>
                
                    </div><!-- end fname and lname form group -->
                
                    <!--user phone-->
                    <div class="mt-4">
                        <label for="newphone">USER PHONE NUMBER (optional):</label>
                        <!--display error if there is one -->
                        <check if="{{ isset(@errors2['newphone']) }}">
                            <span class="err">{{ @errors2['newphone'] }}</span>
                        </check>
                        <input type="text" class="form-control" id="newphone" value="{{@newphone}}"
                               placeholder="phone number here" name="newphone">
                        <!--Javascript validation-->
                        <span class="js-err" id="err-newphone">Please enter a valid phone number (1234567890 or 123-456-7890)</span>
                    </div>
                
                    <!--user email-->
                    <div class="mt-4">
                        <label for="newemail">USER EMAIL:</label>
                        <!--display error if there is one -->
                        <check if="{{ isset(@errors2['newemail']) }}">
                            <span class="err">{{ @errors2['newemail'] }}</span>
                        </check>
                        <input type="text" class="form-control" id="newemail" value="{{@newemail}}"
                               placeholder="email address here" name="newemail">
                        <!--Javascript validation-->
                        <span class="js-err" id="err-newemail">Please select enter a valid email address</span>
                    </div>
                
                    <!--password-->
                    <div class="mt-4">
                        <label for="newpass">ACCOUNT PASSWORD:</label>
                        <!--display error if there is one -->
                        <check if="{{ isset(@errors2['pass']) }}">
                            <span class="err">{{ @errors2['pass'] }}</span>
                        </check>
                        <input type="password" class="form-control" id="newpass" value="{{@newpass}}"
                               placeholder="user password here" name="newpass">
                        <!--Javascript validation-->
                        <span class="js-err" id="err-newpass">Password must be 7-15 characters and contain
                        at least one number and one special character.</span>
                        <label for="newpass2">TYPE IT AGAIN:</label>
                        <!--display error if there is one -->
                        <check if="{{ isset(@errors2['pass2']) }}">
                            <span class="err" id="err-newpass2">{{ @errors2['pass2'] }}</span>
                        </check>
                        <input type="password" class="form-control" id="newpass2" value="{{@newpass2}}"
                               placeholder="enter again here" name="newpass2">
                        <!--Javascript validation-->
                        <span class="js-err" id="err-repeatPass">Passwords do not match!</span>
                    </div>
                
                    <div class="float-end">
                        <button type="submit" class="btn btn-lg btn-outline-success mt-3 "
                                name="postbtn" value="newuser">Submit
                        </button>
                    </div>
            
                </div>
        
            </fieldset>
        </form>

        
    
    </div>
</div>

<div id="floatyCart" >
    <sessionInfo id="sessionInfo">
        <check if="{{ @cartExists }}">
            <true>true</true>
            <false>false</false>
        </check>
    </sessionInfo>
    
    <a href="cart">
        <button type="button" class="btn" id="circle">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
                <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path>
            </svg>
            Cart
        </button>
    </a>
</div>
    
<include href="includes/jscript.html"></include>
<script src="scripts/js-validation.js"></script>
<script src="scripts/generic-script.js"></script>

</body>
</html>